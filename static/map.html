<!-- <!DOCTYPE html>
<html>
<head>
	<title>实时定位</title>
</head>
<body>

	<div id="container">
	</div>

	<script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=rN14ZMvGkPG86yB6Q3az62uTrkqkO85k"></script>
	<script type="text/javascript">
		let map = new BMap.Map("container");//地图的实例
		let carIcon = new BMap.Icon("../pic/p.png", new BMap.Size(300,157));

		


		const getPositionWatch = () => {
			if(navigator.geolocation) {
				let id = navigator.geolocation.watchPosition(function(position){
					Position = position;
					// console.log("纬度" + position.coords.latitude + "经度" + position.coords.longitude)
				}, function(err){
					switch(err.code) {
						case err.PERMISSION_DENIED:    return "PERMISSION_DENIED";
						case err.POSITION_UNAVAILABLE: return "POSITION_UNAVAILABLE";
						case err.TIMEOUT:              return "TIMEOUT";
						default:                       return "UNKNOWN_ERROR";
					}
				})
				// navigator.geolocation.clearWatch(id); 停止监视
			}else {
				console.log("你的浏览器不支持geolocation");
			}
		}

		const changeMarkerPosition = () => {
			myPosition = getCurrentPosition();
			setTimeout( () => {
				point = new BMap.Point(myPosition[0], myPosition[1]);//得到了最新的坐标点
				console.log("地图中心："+myPosition[0]+"  "+myPosition[1]);
				marker = new BMap.Marker(point,{icon:carIcon});
				//map.centerAndZoom(point, 14);
				map.clearOverlays();//在地图上清除掉所有的覆盖物。
				map.addOverlay(marker);
				marker.setAnimation(BMAP_ANIMATION_BOUNCE);//给marker设置动画
				console.log("maker的位置"+marker.getPosition().lng+"  "+marker.getPosition().lat);
			},500);//此暂停放噶目前不得已而位置，带我日后掌握回调函数再战
    }


		let timer = setInterval(changeMarkerPosition,5000);

	</script>

</body>
</html> -->

<!DOCTYPE html>  
<html>
	<head>  
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
		<title>Hello, World</title>  
		<style type="text/css">  
			html{
				height:100%；
			}  
			body{
				height:100%;
				margin:0px;
				padding:0px；
			}  
			#container{
				height:100%；
			}  
		</style>  
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=rN14ZMvGkPG86yB6Q3az62uTrkqkO85k">
		//v2.0版本的引用方式：src="http://api.map.baidu.com/api?v=2.0&ak=您的密钥"
		</script>
	</head>  
	 
	<body>  
		<div id="container"></div> 
		<script type="text/javascript"> 
			var map = new BMap.Map("container");
			// 创建地图实例  
			var point = new BMap.Point(116.404, 39.915);
			// 创建点坐标  
			map.centerAndZoom(point, 15);
			// 初始化地图，设置中心点坐标和地图级别  
		</script>  
	</body>  
</html>